<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- 
        1~45까지 랜덤수 6개 중복되지 않게 추출 => 출력
        set 중복 제거 후 => 배열
    -->

    <button type="button" id="makeRandom">랜덤번호 6자리 생성(출력)</button>
    <h1 id="printNum">로또번호 출력</h1>

    <button type="button" id="makeRandom2">당첨번호 7자리 생성(출력)</button>
    <h1 id="printNum2">당첨번호 출력</h1>

    <button type="button" id="ranking">당첨 확인</button>
    <h3 id="result">당첨여부 출력</h3>

    <script>
        // 1~45까지 6자리 : 사용자 번호
        const lottoArr = [];
        // 1~45까지 7자리 (6자리 + 보너스) : 당첨번호
        const rNumArr = [];
        let bonus =0; // 보너스 번호 넣는 용도

        function randomNum(arr, num){
            const set = new Set();
            while(set.size<num){
                let num = Math.floor(Math.random()*45+1);
            }
            set.forEach(v => arr.push(v));
        }

        document.getElementById('makeRandom').addEventListener('click',()=>{
            // 기존 배열에 값이 있따면 값 지우기
            // set.clear() : set 비우기
            // splice(index, count) : index 부터 count개 만큼 삭제하고, 다른 내용으로 교체/변경
            lottoArr.splice(0); // 끝까지 삭제

            randomNum(lottoArr, 6);
            document.getElementById('printNum').innerText = lottoArr;
        })

        document.getElementById('makeRandom2').addEventListener('click',()=>{
            randomNum(rNumArr,7);
            bonus = rNumArr.pop();
            document.getElementById('printNum2').innerText = `${rNumArr} [${bonus}]`
        })

        
        document.getElementById('ranking').addEventListener('click',ranking);

        function ranking(){
            let cnt =0;
            lottoArr.forEach(v=>{
                if(rNumArr.includes(v)){
                    cnt++
                }
            })
            console.log(cnt);

            let print ='';
            switch(cnt){
                case 6: print='축~!! 1등!!'; break;
                case 5: lottoArr.includes(bonus) ? print= '축! 2등!!' : print='축! 3등!!';
                break;
                case 4: print='축! 4등!!'; break;
                case 3: print='축! 5등!!'; break;
                default: print= '꽝!!';
            }
            document.getElementById('result').innerText = print;
        }



        // const userArr = [];
        // const comArr = [];
        // let userSet = new Set();
        // let comSet = new Set();
        
        // document.getElementById('makeRandom').addEventListener('click',()=>{
        //     userSet.clear();
        //     userArr.length = 0;
        //     while(userSet.size<6){
        //         userSet.add(Math.floor(Math.random()*45+1));
        //     }
        //     userSet.forEach(v =>{
        //         userArr.push(v);
        //     })
        //     document.getElementById('printNum').innerText = userArr;
        // })
        
        // document.getElementById('makeRandom2').addEventListener('click',()=>{
        //     comSet.clear();
        //     comArr.length = 0;
        //     while(comSet.size<7){
        //         comSet.add(Math.floor(Math.random()*45+1));
        //     }
        //     comSet.forEach(v =>{
        //         comArr.push(v);
        //     })
        //     document.getElementById('printNum2').innerHTML = comArr;
        // })

        // document.getElementById('ranking').addEventListener('click',()=>{
        //     let cnt=0;
        //     let result= '';
        //     for(let i=0; i<=5; i++){
        //         for(let j=0; j<=5; j++){
        //             if(userArr[i]==comArr[j]){
        //                 cnt++;
        //             }
        //         }
        //     }

        //     switch(cnt){
        //         case 6 : result = '1등 입니다 !!'; break;
        //         case 5 : 
        //             if(userSet.has(comArr[6])){ result = '2등 입니다 !!'}
        //             else{ result = '3등 입니다 !!'}; break;
        //         case 4 : result = '4등 입니다 !'; break;
        //         case 3 : result = '5등 입니다 !'; break;
        //         default : result = '꽝';
        //     }

        //     document.getElementById('result').innerText = cnt+'/'+ result;            
        // })
    </script>
</body>
</html>