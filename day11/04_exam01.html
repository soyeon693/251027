<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- 
        과목, 점수 input 2개 생성
        추가 버튼생성 => map에 저장
        출력 버튼생성 => ul => li 형태로 출력 html : 89
        결과 버튼생성 => 합계, 평균, 합격여부 (60점이상이면 pass) => h3
    -->
        <fieldset>
            <legend>과목추가</legend>
            과목: <input type="text" id="subject"><br>
            점수: <input type="text" id="score"><br>
            <button type="button" id="add">추가</button>
            <button type="button" id="printBtn">출력</button>
            <button type="button" id="resultBtn">결과</button>
        </fieldset>
         <ul id="ul"></ul>
         <h3 id="h3"></h3>


         <script>
            const subMap = new Map();

            document.getElementById('add').addEventListener('click', ()=>{
                const sub = document.getElementById('subject');
                const scores = document.getElementById('score');
                let score = Number(scores.value);

                if(isNaN(score) ||score<0 || score>100){
                    alert('0~100사이의 값을 입력하세요.');
                    return;
                }
                subMap.set(sub, score);
                sub.value = '';
                scores.value = '';
            });

            document.getElementById('printBtn').addEventListener('click', ()=>{
                let str = '';
                subMap.forEach((v,k)=>{
                    str += `<li>${k}:${v}</li>`;
                })
                document.getElementById('ul').innerHTML = str;
            })

            document.getElementById('resultBtn').addEventListener('click', ()=>{
                let sum =0;
                let avg = 0;
                let pass ='';

                subMap.forEach((v)=>sum += v)
                avg = sum/subMap.size;
                pass = (avg>=60) ? 'pass' : 'fail';

                document.getElementById('h3').innerText =`합계:${sum} 평균:${avg.toFixed(2)} 합격:${pass}`;
            })
         </script>
</body>
</html>